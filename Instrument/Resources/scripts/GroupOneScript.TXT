on init 

	{General UI Constants}
	declare const $UI_HEIGHT := 350
	declare const $UI_WIDTH := 634
	declare const $Y_OFFSET := 0
	declare const $X_OFFSET := 0
	declare const $UI_COLOUR_HEX := 934d8ddh  {Change this to the 6 character hex number of your chosen colour and leave the 9 at the start and h at the end (eg. 9<hex_code>h).}

	declare $KILLSWITCH_USED

	declare $i

   	declare ui_slider $GroupOneVol(0, 700000)
   	make_persistent($GroupOneVol)
   	declare $GroupOneVolId
   	$GroupOneVolId := get_ui_id($GroupOneVol)
	set_control_par_str($GroupOneVolId, $CONTROL_PAR_PICTURE, "HoriSlider")
	set_control_par_str($GroupOneVol, $CONTROL_PAR_MOUSE_BEHAVIOUR, 1000)

   	declare ui_slider $GroupTwoVol(0, 700000)
   	make_persistent($GroupTwoVol)
   	declare $GroupTwoVolId
	$GroupTwoVolId := get_ui_id($GroupTwoVol)
	set_control_par_str($GroupTwoVolId, $CONTROL_PAR_PICTURE, "HoriSlider")
	set_control_par_str($GroupTwoVol, $CONTROL_PAR_MOUSE_BEHAVIOUR, 1000)

	move_control_px($GroupOneVol,300,300)


	declare ui_button $GroupOneBypass
   	make_persistent($GroupOneBypass)
   	declare $GroupOneBypassId
   	$GroupOneBypass := get_ui_id($GroupOneBypassId)

	declare ui_button $GroupTwoBypass
   	make_persistent($GroupTwoBypass)
   	declare $GroupTwoBypassId
	$GroupTwoBypassId := get_ui_id($GroupTwoBypass)

	declare ui_slider $GroupOneAttSlider(0,1000000)
   make_persistent($GroupOneAttSlider)
   declare $GroupOneAttSliderId
   $GroupOneAttSliderId := get_ui_id($GroupOneAttSlider)

   declare ui_slider $GroupOneDecSlider(0,1000000)
   make_persistent($GroupOneDecSlider)
   declare $GroupOneDecSliderId
   $GroupOneDecSliderId := get_ui_id($GroupOneDecSlider)

   declare ui_slider $GroupOneSusSlider(0,1000000)
   make_persistent($GroupOneSusSlider)
   declare $GroupOneSusSliderId
   $GroupOneSusSliderId := get_ui_id($GroupOneSusSlider)
	
   declare ui_slider $GroupOneRelSlider(0,1000000)
   make_persistent($GroupOneRelSlider)
   declare $GroupOneRelSliderId
   $GroupOneRelSliderId := get_ui_id($GroupOneRelSlider)

   declare ui_slider $GroupTwoAttSlider(0,1000000)
   make_persistent($GroupTwoAttSlider)
   declare $GroupTwoAttSliderId
   $GroupTwoAttSliderId := get_ui_id($GroupTwoAttSlider)

   declare ui_slider $GroupTwoDecSlider(0,1000000)
   make_persistent($GroupTwoDecSlider)
   declare $GroupTwoDecSliderId
   $GroupTwoDecSliderId := get_ui_id($GroupTwoDecSlider)

   declare ui_slider $GroupTwoSusSlider(0,1000000)
   make_persistent($GroupTwoSusSlider)
   declare $GroupTwoSusSliderId
   $GroupTwoSusSliderId := get_ui_id($GroupTwoSusSlider)
	
   declare ui_slider $GroupTwoRelSlider(0,1000000)
   make_persistent($GroupTwoRelSlider)
   declare $GroupTwoRelSliderId
   $GroupTwoRelSliderId := get_ui_id($GroupTwoRelSlider)

	{----Background----}

		make_perfview

   		set_script_title("Group 1: Birds and Trees")

		set_ui_height_px($UI_HEIGHT)
		set_ui_width_px($UI_WIDTH)
		set_ui_color($UI_COLOUR_HEX)

		set_control_par_str ($INST_WALLPAPER_ID, $CONTROL_PAR_PICTURE, "Background")
		set_control_par_str($INST_ICON_ID, $CONTROL_PAR_PICTURE, "NID_instrument_icon")

		set_skin_offset(0)

		$KILLSWITCH_USED := 0

		message("")

	end on

	{ -- killswitch code -- }


{ note callback, executed whenever a note on message is received }
on note

    if ($EVENT_NOTE = 45)

        $KILLSWITCH_USED := 1

        set_engine_par($ENGINE_PAR_VOLUME, 0, 0, -1, -1)
        set_engine_par($ENGINE_PAR_VOLUME, 0, 1, -1, -1)

     	end if

	end on

on release
	
	{ -- code that sets group status apon note release, for use if killswitch was used at any point -- }

	if ($KILLSWITCH_USED = 1)
		
		set_engine_par($ENGINE_PAR_VOLUME, $GroupOneVol, 3, -1, -1)
		set_engine_par($ENGINE_PAR_VOLUME, $GroupTwoVol, 4, -1, -1)

		$KILLSWITCH_USED := 0
		
	end if

	end on
