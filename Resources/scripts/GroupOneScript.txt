on init 

	{General UI Constants}
	declare const $UI_HEIGHT := 350
	declare const $UI_WIDTH := 634
	declare const $Y_OFFSET := 0
	declare const $X_OFFSET := 0
	declare const $UI_COLOUR_HEX := 934d8ddh  {Change this to the 6 character hex number of your chosen colour and leave the 9 at the start and h at the end (eg. 9<hex_code>h).}

	declare $KILLSWITCH_USED

	declare $i

   	declare ui_slider $GroupOneVol(0, 700000)
   	make_persistent($GroupOneVol)

   	declare ui_slider $GroupTwoVol(0, 700000)
   	make_persistent($GroupTwoVol)

	declare ui_button $GroupOneBypass
	declare ui_button $GroupTwoBypass



	{----Background----}

		make_perfview

   		set_script_title("Group 1: Birds and Trees")

		set_ui_height_px($UI_HEIGHT)
		set_ui_width_px($UI_WIDTH)
		set_ui_color($UI_COLOUR_HEX)

		set_control_par_str ($INST_WALLPAPER_ID, $CONTROL_PAR_PICTURE, "Background")
		set_control_par_str($INST_ICON_ID, $CONTROL_PAR_PICTURE, "NID_instrument_icon")

		set_skin_offset(0)

		$KILLSWITCH_USED := 0

		message("")

end on

on note
	{ -- killswitch code -- }
    if ($EVENT_NOTE = 45)

        $KILLSWITCH_USED := 1
    
     end if

end on

on release
	
	{ -- code that sets group status apon note release, for use if killswitch was used at any point -- }

	if ($KILLSWITCH_USED = 1)
	
		if ($GroupOneBypass = 1)
		
		else
		
		set_engine_par($ENGINE_PAR_VOLUME, $GroupOneVol, 3, -1, -1)
		set_engine_par($ENGINE_PAR_VOLUME, $GroupOneVol, 4, -1, -1)
			
		end if
	
	end if 

	$KILLSWITCH_USED := 0

end on
