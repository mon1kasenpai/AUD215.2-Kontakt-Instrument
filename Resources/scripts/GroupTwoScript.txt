on init 

	{General UI Constants}
	declare const $UI_HEIGHT := 350
	declare const $UI_WIDTH := 633
	declare const $Y_OFFSET := 0
	declare const $X_OFFSET := 0
	declare const $UI_COLOUR_HEX := 934d8ddh  {Change this to the 6 character hex number of your chosen colour and leave the 9 at the start and h at the end (eg. 9<hex_code>h).}
	
	declare $KILLSWITCH_USED

   	declare ui_slider $GroupThreeVol(0, 700000)
   	make_persistent($GroupThreeVol)
   	declare $GroupThreeVolId
   	$GroupThreeVolId := get_ui_id($GroupThreeVol)

   	declare ui_slider $GroupFourVol(0, 700000)
   	make_persistent($GroupFourVol)
   	declare $GroupFourVolId
	$GroupFourVolId := get_ui_id($GroupFourVol)

	declare ui_button $GroupThreeBypass
   	make_persistent($GroupThreeBypass)
   	declare $GroupThreeBypassId
   	$GroupThreeBypass := get_ui_id($GroupThreeBypassId)

	declare ui_button $GroupFourBypass
   	make_persistent($GroupFourBypass)
   	declare $GroupFourBypassId
	$GroupFourBypassId := get_ui_id($GroupFourBypass)

	declare ui_slider $GroupThreeAttSlider(0,1000000)
   make_persistent($GroupThreeAttSlider)
   declare $GroupThreeAttSliderId
   $GroupThreeAttSliderId := get_ui_id($GroupThreeAttSlider)

   declare ui_slider $GroupThreeDecSlider(0,1000000)
   make_persistent($GroupThreeDecSlider)
   declare $GroupThreeDecSliderId
   $GroupThreeDecSliderId := get_ui_id($GroupThreeDecSlider)

   declare ui_slider $GroupThreeSusSlider(0,1000000)
   make_persistent($GroupThreeSusSlider)
   declare $GroupThreeSusSliderId
   $GroupThreeSusSliderId := get_ui_id($GroupThreeSusSlider)
	
   declare ui_slider $GroupThreeRelSlider(0,1000000)
   make_persistent($GroupThreeRelSlider)
   declare $GroupThreeRelSliderId
   $GroupThreeRelSliderId := get_ui_id($GroupThreeRelSlider)

   declare ui_slider $GroupFourAttSlider(0,1000000)
   make_persistent($GroupFourAttSlider)
   declare $GroupFourAttSliderId
   $GroupFourAttSliderId := get_ui_id($GroupFourAttSlider)

   declare ui_slider $GroupFourDecSlider(0,1000000)
   make_persistent($GroupFourDecSlider)
   declare $GroupFourDecSliderId
   $GroupFourDecSliderId := get_ui_id($GroupFourDecSlider)

   declare ui_slider $GroupFourSusSlider(0,1000000)
   make_persistent($GroupFourSusSlider)
   declare $GroupFourSusSliderId
   $GroupFourSusSliderId := get_ui_id($GroupFourSusSlider)
	
   declare ui_slider $GroupFourRelSlider(0,1000000)
   make_persistent($GroupFourRelSlider)
   declare $GroupFourRelSliderId
   $GroupFourRelSliderId := get_ui_id($GroupFourRelSlider)


	{----Background----}

		make_perfview

   		set_script_title("Group 2: Industrial")

		set_ui_height_px($UI_HEIGHT)
		set_ui_width_px($UI_WIDTH)
		set_ui_color($UI_COLOUR_HEX)

		set_control_par_str ($INST_WALLPAPER_ID, $CONTROL_PAR_PICTURE, "Background")
		set_skin_offset(444)

		$KILLSWITCH_USED := 0

		message("")


end on

on note

 disallow_group($ALL_GROUPS)

 	if ($GroupThreeBypass = 0)

 	allow_group(3)

 	end if

 	if ($GroupFourBypass = 0)

 	allow_group(4)

 	end if

	{ -- killswitch code -- }

    if ($EVENT_NOTE = 45)

        $KILLSWITCH_USED := 1

        set_engine_par($ENGINE_PAR_VOLUME, 0, 2, -1, -1)
        set_engine_par($ENGINE_PAR_VOLUME, 0, 3, -1, -1)

     end if

end on

on release
	
	{ -- code that sets group status apon note release, for use if killswitch was used at any point -- }

	if ($KILLSWITCH_USED = 1)

		set_engine_par($ENGINE_PAR_VOLUME, $GroupThreeVol, 3, -1, -1)
		set_engine_par($ENGINE_PAR_VOLUME, $GroupFourVol, 4, -1, -1)

		$KILLSWITCH_USED := 0
		
		end if


end on
